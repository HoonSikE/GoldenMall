<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="images/png" href="/asset/icon.png">
    <title>Golden Mall</title>
    <link rel="stylesheet" href="/css/base.css" type="text/css" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" />
    <script src="/js/GoogleAnalyticsBuilder.js"></script>
    <script>
        let pageviewObj = {
            // 방문 페이지 제목
            title: '상품>상품 상세 내용',

            // 이벤트 매개변수
            ep_page_name: '상품>상품 상세 내용',            
            ep_visit_channel: 'PCWeb',
            ep_login_yn: 'Y',
            ep_dow: '화',

            // 사용자 속성
            up_uid: 'hhpark',
            up_type: '개인',
            up_age: '20대',
            up_gender: 'M',
            up_joindate: '20240604'
        };
        sendGAPage(pageviewObj);
        console.log(window.dataLayer);

        // 전자 상거래
        // 기본 정보
        let eventData = {
            event_name: 'view_item',
            ep_ecommerce: 'view_item',
        };
        // 거래 정보
        let transaction = {
            currency: 'KRW',
        };
        // 상품 정보
        let productShoes1 = {
            item_id: 'VANS_12345',
            item_brand: 'Vans',
            item_name: '반스 운동화 올드스쿨 블랙',
            item_variant: 'Black',
            price: 18860.0,
            affiliation: 'Golden Mall',
            coupon: 'SUMMER_FUN',
            item_category: 'Clothes',
            item_category2: 'Shoes',
            quantity: 1,
        };

        let items = [productShoes1];

        sendGAEcommerce(eventData, transaction, items);
    </script>
    <script src="/js/script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WPC9HDZQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="header"></div>

    <div class="container-button">
        <div class="product">
            <div class="product-list">
                <div class="product-info-content">홈 > 의류 > 신발</div>
            </div>
            <div class="product-list">
                <div class="product-info-big">
                    <img class="product-info-img" src="/asset/product/img_shoes1.jpg" alt=""/>
                </div>
            </div>
            <div class="product-list">
                <div class="product-list-title">Vans</div>
                <div style="display:flex">
                    <div style="font-size: 16px;">4.6</div>
                    <img src="/asset/product/img_glade.png" style="width: auto; height: 16px; padding-left: 3px; padding-right: 3px;" alt="">
                    <div style="font-size: 16px; color: blue;">395개 상품평</div>
                </div>
            </div>
            <div class="product-list">
                <div class="product-list-title">반스 운동화 올드스쿨 블랙</div>
            </div>
            <div class="product-list">
                <div class="product-info-price" style="width: 94vw;">
                    <div class="product-info-price0"> 50,000 </div>
                    <div class="product-info-price1">48,860</div>
                    <div class="product-info-price2">원</div>
                </div>
            </div>
        </div>
        <div class="product">
            <div class="product-list">
                <div class="product-info-content">색상코드</div>
                <div class="product-info-content">BLACK</div>
            </div>
            <div class="product-list">
                <div class="product-info-content">사이즈</div>
                <div class="product-info-content">270</div>
            </div>
            <div class="product-list">
                <div class="product-info-content">배송비</div>
                <div class="product-info-content">3,000 원</div>
            </div>
            <div class="product-list">
                <div class="product-info-content">판매자</div>
                <div class="product-info-content">골든플래닛 역삼</div>
            </div>
        </div>
    </div>

    <div class="main-button-backgroundcolor">
        <div onclick="addWishList()" style="width: 10%; display: flex; justify-content: center; align-items: center;">
            <img src="/asset/icon/ic_heart.png" style="height: 90%; width: auto;" alt="">
        </div>
        <div style="width: 40%;">
            <button class="sub-button" onclick="eventAddMoveCart()">장 바 구 니</button>    
        </div>
        <div style="width: 50%;">
            <button class="main-button" onclick="eventMoveProductCheckout()">구 매</button>    
        </div>
    </div>

    <div id="nav"></div>
</body>
<script>
    $(function(){
        $("#header").load("/component/header.html", function(){
        });
        $("#nav").load("/component/nav.html", function(){
        });
    });

    function addWishList(){
        // 전자 상거래
        // 기본 정보
        let eventData = {
            event_name: 'add_to_wishlist',
            ep_ecommerce: 'add_to_wishlist',
        };
        // 거래 정보
        let transaction = {
            currency: 'KRW',
        };
        // 상품 정보
        let productShoes1 = {
            item_id: 'VANS_12345',
            item_brand: 'Vans',
            item_name: '반스 운동화 올드스쿨 블랙',
            item_variant: 'Black',
            price: 18860.0,
            affiliation: 'Golden Mall',
            coupon: 'SUMMER_FUN',
            item_category: 'Clothes',
            item_category2: 'Shoes',
        };

        let items = [productShoes1];

        sendGAEcommerce(eventData, transaction, items);
    }
    function eventAddMoveCart(){
        // 전자 상거래
        // 기본 정보
        let eventData = {
            event_name: 'add_to_cart',
            ep_ecommerce: 'add_to_cart',
        };
        // 거래 정보
        let transaction = {
            currency: 'KRW',
        };
        // 상품 정보
        let productShoes1 = {
            item_id: 'VANS_12345',
            item_brand: 'Vans',
            item_name: '반스 운동화 올드스쿨 블랙',
            item_variant: 'Black',
            price: 18860.0,
            affiliation: 'Golden Mall',
            coupon: 'SUMMER_FUN',
            item_category: 'Clothes',
            item_category2: 'Shoes',
        };

        let items = [productShoes1];

        sendGAEcommerce(eventData, transaction, items);
        
        moveCart();
    }

    function eventMoveProductCheckout(){
        // 전자 상거래
        // 기본 정보
        let eventData = {
            event_name: 'begin_checkout',
            ep_ecommerce: 'begin_checkout',
        };
        // 거래 정보
        let transaction = {
            currency: 'KRW',
        };
        // 상품 정보
        let productShoes1 = {
            item_id: 'VANS_12345',
            item_brand: 'Vans',
            item_name: '반스 운동화 올드스쿨 블랙',
            item_variant: 'Black',
            price: 18860.0,
            affiliation: 'Golden Mall',
            coupon: 'SUMMER_FUN',
            item_category: 'Clothes',
            item_category2: 'Shoes',
        };

        let items = [productShoes1];

        sendGAEcommerce(eventData, transaction, items);
        
        moveProductCheckout();
    }
</script>
</html>