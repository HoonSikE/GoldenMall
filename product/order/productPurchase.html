<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="images/png" href="/asset/icon.png">
    <title>Golden Mall</title>
    <link rel="stylesheet" href="/css/base.css" type="text/css" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" />
    <script src="/js/GoogleAnalyticsBuilder.js"></script>
    <script>
        // 페이지 뷰
        let pageviewObj = {
            // 방문 페이지 제목
            title: '상품>구매>구매 완료',

            // 이벤트 매개변수
            ep_page_name: '상품>구매>구매 완료',            
            ep_visit_channel: 'PCWeb',
            ep_login_yn: 'Y',
            ep_dow: '화',

            // 사용자 속성
            up_uid: 'hhpark',
            up_type: '개인',
            up_age: '20대',
            up_gender: 'M',
            up_joindate: '20240604'
        };
        sendGAPage(pageviewObj);
        console.log(window.dataLayer);

        // 전자 상거래
        // 기본 정보
        let eventData = {
            event_name: 'purchase',
            ep_ecommerce: 'purchase',
        };
        // 거래 정보
        let transaction = {
            currency: 'KRW',
            value: 175860.0,
            shipping: 3000.0,
            transaction_id: 'GP-240507',
            payment_type: 'Kakao Pay',
        };
        // 상품 정보
        let productShoes1 = {
            item_id: 'VANS_12345',
            item_brand: 'Vans',
            item_name: '반스 운동화 올드스쿨 블랙',
            item_variant: 'Black',
            price: 18860.0,
            affiliation: 'Golden Mall',
            coupon: 'SUMMER_FUN',
            item_category: 'Clothes',
            item_category2: 'Shoes',
            index: 0,
            quantity: 1,
        };
        let productShirt1 = {
            item_id: 'COMME_777',
            item_brand: '꼼데가르송',
            item_name: 'PLAY 반팔티셔츠',
            item_variant: 'White',
            price: 123.000,
            affiliation: 'Golden Mall',
            item_category: 'Clothes',
            item_category2: 'Shirt',
            index: 1,
            quantity: 1,
        };

        let items = [productShoes1, productShirt1];

        sendGAEcommerce(eventData, transaction, items);
    </script>
    <script src="/js/script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WPC9HDZQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="header"></div>

    <div class="container-button">
        <div class="product">
            <div class="product-list">
                <div class="product-list-title">
                    상품 구매 완료
                </div>
                <div class="product-info-content">주문번호 (GP-240507)</div>
            </div>
            <div class="product-list">
                <div class="product-info">
                    <img class="product-info-img" src="/asset/product/img_shoes1.jpg" alt=""/>
                </div>
                <div class="product-info">
                    <img class="product-info-img" src="/asset/product/img_clothes2.jpg" alt=""/>
                    
                </div>
            </div>
            <div class="product-list">
                <div class="product-list-title">총 상품 가격</div>
            </div>
            <div class="product">
                <div class="product-list">
                    <div class="product-info-content">총 상품 가격</div>
                    <div class="product-info-content">172,860 원</div>
                </div>
                <div class="product-list">
                    <div class="product-info-content">총 배송비</div>
                    <div class="product-info-content">3,000 원</div>
                </div>
            </div>
            <div class="product-list">
                <div class="product-list-title">
                    총 결제 금액
                </div>
                <div class="product-info-price">
                    <div class="product-info-price1">175,860</div>
                    <div class="product-info-price2">원</div>
                </div>
            </div>
        </div>
        <div class="product">
            <div class="product-list">
                <div class="product-list-title">배송지</div>
            </div>
            <div class="product-info-content">
                서울특별시 광진구 OOO로 OO길 OO<br>
                , 000호 (OO동)
            </div>
            <div class="product-list">
                <div class="product-info-content">휴대폰: 010-1234-5678</div>
            </div>
        </div>
        <div class="product">
            <div class="product-list">
                <div class="product-list-title">결제 수단</div>
            </div>
            <div class="product-list">
                <div class="product-info-content">카카오뱅크 / 3333-**-*******</div>
            </div>
        </div>
    </div>

    <div class="main-button-backgroundcolor">
        <button class="main-button" onclick="eventMoveMainPage()">홈 으 로</button>
    </div>

    <div id="nav"></div>
</body>
<script>
    $(function(){
        $("#header").load("/component/header.html", function(){
        });
        $("#nav").load("/component/nav.html", function(){
        });
    });

    function eventMoveMainPage(){
        let eventObj = {
            // 이벤트 명
            event_name: 'click_event',
            // 이벤트 매개변수
            ep_click_page: '상품>구매>구매 완료',            
            ep_click_area: '바디',
            ep_click_area2: '버튼',
            ep_click_label: '홈으로',
        };
        sendGAEvent(eventObj);
        console.log(window.dataLayer);
        
        moveMainPage();
    }
</script>
</html>